<div class="btn-group dropdown">
  <button type="button" class="btn dropdown-toggle <%= @cart.empty? ? "disabled btn-secondary" : "btn-primary" %>" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
      Cart <%= @cart.empty? ? "" : "<span class=\"badge badge-light\">#{@cart.count}</span>".html_safe %>
  </button>
  <% unless @cart.empty? %>
    <div class="dropdown-menu">
      <% @cart.each do |product, quantity| %>
        <%= link_to "#{product.name} âŒ", remove_from_cart_path(product.id), method: :delete, class: "ml-2 mt-1 mr-2 text-decoration-none" %>
          <%= form_with(url: update_cart_quantity_path(product.id), method: "patch", class: "px-4 py-3") do %>
            <%= label_tag(:quantity, "Quantity:") %>
            <%= number_field_tag 'quantity', quantity.to_s, min: 1, max: product.on_hand %>
            <%= submit_tag("âœ… Update Quantity", class: "btn btn-success") %>
          <% end %>
            <hr/>
      <% end %>
      <p class="ml-2 mb-0 mt-1"><%= pluralize(@cart.count, "Product") %></p>
    </div>
  <% end %>
</div>